<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=1280, height=720, initial-scale=1.0" name="viewport"/>
<title>TCA-ETC Integration</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&amp;family=Lato:wght@300;400;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
<style>
        body {
            font-family: 'Lato', sans-serif;
            width: 1280px;
            height: 720px;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f8fafc;
        }
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
        }
        .network-container {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
        }
        .caption-bar {
            background-color: #f1f5f9;
            border-top: 1px solid #cbd5e1;
        }
        /* Custom Node Styles implemented via ECharts, but adding legend styles here */
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 1.5rem;
            font-size: 0.875rem;
            color: #64748b;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
    </style>
</head>
<body>
<div class="w-full h-full flex flex-col relative overflow-hidden bg-slate-50">
<!-- Header -->
<div class="pt-8 px-12 z-20 shrink-0">
<h2 class="text-4xl font-bold text-slate-800 mb-1">TCA Cycle &amp; ETC Integration</h2>
<div class="w-24 h-1.5 bg-teal-600 rounded mt-2"></div>
<p class="text-slate-500 mt-2 text-lg">Metabolic coupling of carbon oxidation to oxidative phosphorylation</p>
</div>
<!-- Main Diagram Area -->
<div class="flex-1 px-12 py-6 min-h-0 flex flex-col">
<!-- Legend -->
<div class="flex justify-end mb-2">
<div class="legend-item"><div class="legend-dot bg-orange-100 border-2 border-orange-500"></div><p>TCA Outputs</p></div>
<div class="legend-item"><div class="legend-dot bg-blue-100 border-2 border-blue-600"></div><p>ETC Complexes</p></div>
<div class="legend-item"><div class="legend-dot bg-teal-100 border-2 border-teal-500"></div><p>Energy Product</p></div>
</div>
<!-- Network Chart Container -->
<div class="w-full flex-1 network-container p-4" id="integrationChart"></div>
</div>
<!-- Bottom Caption Bar -->
<div class="h-20 w-full caption-bar flex items-center px-12 z-20 shrink-0">
<div class="flex items-center space-x-6">
<div class="w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 shrink-0">
<i class="fas fa-network-wired text-lg"></i>
</div>
<div class="border-l-2 border-slate-300 pl-6">
<p class="text-slate-700 font-medium leading-relaxed">
<span class="font-bold text-teal-700">Crucial Link:</span> 
                        TCA cycle flux is tightly coupled to the ETC. If the ETC is inhibited (e.g., Cyanide, Hypoxia), NADH accumulates, causing <span class="text-red-600 font-bold">feedback inhibition</span> of the TCA cycle.
                    </p>
</div>
</div>
</div>
</div>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            var chartDom = document.getElementById('integrationChart');
            var myChart = echarts.init(chartDom);
            var option;

            // Data for the integration map
            var data = [
                // TCA Hub
                {
                    name: 'TCA Cycle\n(Matrix)',
                    x: 100,
                    y: 300,
                    symbolSize: 100,
                    itemStyle: { color: '#fef3c7', borderColor: '#f59e0b', borderWidth: 3 },
                    label: { show: true, fontSize: 14, fontWeight: 'bold', color: '#92400e' }
                },
                // Electron Carriers
                {
                    name: 'NADH',
                    x: 300,
                    y: 200,
                    symbolSize: 60,
                    itemStyle: { color: '#ffedd5', borderColor: '#ea580c', borderWidth: 2 },
                    label: { fontSize: 12, fontWeight: 'bold', color: '#9a3412' }
                },
                {
                    name: 'FADH2',
                    x: 300,
                    y: 400,
                    symbolSize: 60,
                    itemStyle: { color: '#ffedd5', borderColor: '#ea580c', borderWidth: 2 },
                    label: { fontSize: 12, fontWeight: 'bold', color: '#9a3412' }
                },
                // ETC Complexes
                {
                    name: 'Complex I\n(NADH Dehydrog.)',
                    x: 500,
                    y: 150,
                    symbolSize: 70,
                    symbol: 'rect',
                    itemStyle: { color: '#dbeafe', borderColor: '#2563eb', borderWidth: 2, borderRadius: 8 },
                    label: { fontSize: 11, fontWeight: 'bold', color: '#1e40af' }
                },
                {
                    name: 'Complex II\n(Succinate Dehydrog.)',
                    x: 500,
                    y: 400,
                    symbolSize: 70,
                    symbol: 'rect',
                    itemStyle: { color: '#dbeafe', borderColor: '#2563eb', borderWidth: 2, borderRadius: 8 },
                    label: { fontSize: 11, fontWeight: 'bold', color: '#1e40af' }
                },
                {
                    name: 'CoQ\n(Ubiquinone)',
                    x: 650,
                    y: 275,
                    symbolSize: 50,
                    itemStyle: { color: '#e0f2fe', borderColor: '#0ea5e9', borderWidth: 2 },
                    label: { fontSize: 11, color: '#0369a1' }
                },
                {
                    name: 'Complex III',
                    x: 800,
                    y: 275,
                    symbolSize: 60,
                    symbol: 'rect',
                    itemStyle: { color: '#dbeafe', borderColor: '#2563eb', borderWidth: 2, borderRadius: 8 },
                    label: { fontSize: 11, fontWeight: 'bold', color: '#1e40af' }
                },
                {
                    name: 'Cyt c',
                    x: 900,
                    y: 275,
                    symbolSize: 40,
                    itemStyle: { color: '#e0f2fe', borderColor: '#0ea5e9', borderWidth: 2 },
                    label: { fontSize: 11, color: '#0369a1' }
                },
                {
                    name: 'Complex IV',
                    x: 1000,
                    y: 275,
                    symbolSize: 60,
                    symbol: 'rect',
                    itemStyle: { color: '#dbeafe', borderColor: '#2563eb', borderWidth: 2, borderRadius: 8 },
                    label: { fontSize: 11, fontWeight: 'bold', color: '#1e40af' }
                },
                // ATP Synthase
                {
                    name: 'ATP Synthase\n(Complex V)',
                    x: 1150,
                    y: 400,
                    symbolSize: 80,
                    symbol: 'triangle',
                    itemStyle: { color: '#ccfbf1', borderColor: '#0d9488', borderWidth: 3 },
                    label: { fontSize: 12, fontWeight: 'bold', color: '#0f766e', offset: [0, 50] }
                },
                // Products
                {
                    name: 'ATP',
                    x: 1150,
                    y: 520,
                    symbolSize: 50,
                    symbol: 'star',
                    itemStyle: { color: '#fef08a', borderColor: '#eab308', borderWidth: 2 },
                    label: { fontSize: 12, fontWeight: 'bold', color: '#854d0e' }
                }
            ];

            var links = [
                // TCA to Carriers
                { source: 'TCA Cycle\n(Matrix)', target: 'NADH', label: { show: true, formatter: '3x' }, lineStyle: { curveness: 0.1 } },
                { source: 'TCA Cycle\n(Matrix)', target: 'FADH2', label: { show: true, formatter: '1x' }, lineStyle: { curveness: -0.1 } },
                
                // Carriers to Complexes
                { source: 'NADH', target: 'Complex I\n(NADH Dehydrog.)', lineStyle: { width: 4 } },
                { source: 'FADH2', target: 'Complex II\n(Succinate Dehydrog.)', lineStyle: { width: 4 } }, // Note: Complex II IS SDH
                
                // ETC Flow
                { source: 'Complex I\n(NADH Dehydrog.)', target: 'CoQ\n(Ubiquinone)', lineStyle: { width: 3 } },
                { source: 'Complex II\n(Succinate Dehydrog.)', target: 'CoQ\n(Ubiquinone)', lineStyle: { width: 3 } },
                { source: 'CoQ\n(Ubiquinone)', target: 'Complex III', lineStyle: { width: 3 } },
                { source: 'Complex III', target: 'Cyt c', lineStyle: { width: 3 } },
                { source: 'Cyt c', target: 'Complex IV', lineStyle: { width: 3 } },
                
                // Proton Gradient to ATP
                { 
                    source: 'Complex I\n(NADH Dehydrog.)', 
                    target: 'ATP Synthase\n(Complex V)', 
                    lineStyle: { type: 'dashed', curveness: -0.4, color: '#94a3b8' },
                    label: { show: true, formatter: 'H+ Gradient', color: '#64748b' }
                },
                { 
                    source: 'Complex III', 
                    target: 'ATP Synthase\n(Complex V)', 
                    lineStyle: { type: 'dashed', curveness: 0.3, color: '#94a3b8' }
                },
                { 
                    source: 'Complex IV', 
                    target: 'ATP Synthase\n(Complex V)', 
                    lineStyle: { type: 'dashed', curveness: 0.4, color: '#94a3b8' }
                },
                
                // ATP Production
                { source: 'ATP Synthase\n(Complex V)', target: 'ATP', lineStyle: { width: 5, color: '#0d9488' } }
            ];

            option = {
                tooltip: {},
                animationDurationUpdate: 1500,
                animationEasingUpdate: 'quinticInOut',
                series: [
                    {
                        type: 'graph',
                        layout: 'none',
                        symbolSize: 50,
                        roam: false,
                        label: {
                            show: true
                        },
                        edgeSymbol: ['circle', 'arrow'],
                        edgeSymbolSize: [4, 10],
                        edgeLabel: {
                            fontSize: 12
                        },
                        data: data,
                        links: links,
                        lineStyle: {
                            opacity: 0.9,
                            width: 2,
                            curveness: 0
                        }
                    }
                ]
            };

            myChart.setOption(option);
        });
    </script>
</body>
</html>
