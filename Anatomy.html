<!DOCTYPE html>
<html>
<head>
<title>OT Anatomy Game</title>
<style>
body {
  text-align: center;
  background: #e6e6e6;
  font-family: Arial;
}
canvas {
  border: 3px solid black;
  background: #ddd;
}
</style>
</head>

<body>
<h1>OT Anatomy Game</h1>
<h3>Click the correct organ</h3>
<h2 id="question"></h2>
<h2 id="score">Score: 0</h2>

<canvas id="game" width="900" height="600"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let score = 0;

const organs = {
  Liver: {x:250, y:200, w:220, h:100, color:"#a06040"},
  Stomach: {x:350, y:260, w:160, h:120, color:"#cc0000"},
  Spleen: {x:520, y:250, w:80, h:80, color:"#f4e38a"},
  Intestine: {x:300, y:390, w:300, h:120, color:"#ffffff"}
};

let organList = Object.keys(organs);
let current = randomOrgan();

document.getElementById("question").innerText = "Find the: " + current;

function randomOrgan(){
  return organList[Math.floor(Math.random()*organList.length)];
}

function draw(){
  ctx.clearRect(0,0,900,600);

  // Body
  ctx.fillStyle = "#f5a3b8";
  ctx.beginPath();
  ctx.ellipse(450,350,250,210,0,0,Math.PI*2);
  ctx.fill();

  // Organs
  for(let o in organs){
    let p = organs[o];
    ctx.fillStyle = p.color;
    ctx.fillRect(p.x,p.y,p.w,p.h);

    ctx.fillStyle = "black";
    ctx.fillText(o,p.x+10,p.y+25);
  }
}

canvas.addEventListener("click", function(e){
  let rect = canvas.getBoundingClientRect();
  let x = e.clientX - rect.left;
  let y = e.clientY - rect.top;

  for(let o in organs){
    let p = organs[o];
    if(x>p.x && x<p.x+p.w && y>p.y && y<p.y+p.h){
      if(o==current){
        score++;
        alert("Correct!");
      } else {
        alert("Wrong! That is " + o);
      }
      current = randomOrgan();
      document.getElementById("question").innerText = "Find the: " + current;
      document.getElementById("score").innerText = "Score: " + score;
    }
  }
});

draw();
</script>
</body>
</html>
